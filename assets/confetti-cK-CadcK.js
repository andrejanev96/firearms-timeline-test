function x(i=1200,h=100){const e=document.createElement("canvas");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.pointerEvents="none",e.style.zIndex="9999",e.style.transform="translateZ(0)",document.body.appendChild(e);const a=Math.max(1,window.devicePixelRatio||1);(()=>{e.width=Math.floor(window.innerWidth*a),e.height=Math.floor(window.innerHeight*a)})();const n=e.getContext("2d");if(!n){e.remove();return}n.scale(a,a);const s=["#DAA520","#F44336","#4CAF50","#ffffff"],d=window.innerWidth/2,f=window.innerHeight/2,m=Array.from({length:Math.max(30,h)},()=>{const r=Math.random()*Math.PI*2,o=4+Math.random()*6;return{x:d,y:f,vx:Math.cos(r)*o,vy:Math.sin(r)*o-2,size:4+Math.random()*4,color:s[Math.floor(Math.random()*s.length)],life:1,rotation:Math.random()*Math.PI*2,vr:(Math.random()-.5)*.2}}),y=performance.now(),v=.12,l=.995;function c(r){const o=r-y;n.clearRect(0,0,window.innerWidth,window.innerHeight),m.forEach(t=>{t.vx*=l,t.vy=t.vy*l+v,t.x+=t.vx,t.y+=t.vy,t.rotation+=t.vr,t.life=Math.max(0,1-o/(i+400)),n.globalAlpha=t.life,n.save(),n.translate(t.x,t.y),n.rotate(t.rotation),n.fillStyle=t.color,n.fillRect(-t.size/2,-t.size/2,t.size,t.size),n.restore(),n.globalAlpha=1}),o<i+500?requestAnimationFrame(c):e.remove()}requestAnimationFrame(c)}export{x as fireConfettiOnce};
